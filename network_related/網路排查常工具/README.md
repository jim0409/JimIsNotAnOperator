# 網路性能測量指標
1. 可用性（availability）
2. 響應時間（response time）
3. 網路利用率（network utilization）
4. 網路吞吐量（network throughput）
5. 網路帶寬容量（network bandwidth capacity）

# 可用性
測試網路性能的第一步是確定網路是否正常工作，最簡單的方法是使用ping命令。通過向遠端的機器發送ping指令(icmp echo request)

並等待接收回傳(icmp echo reply)來判斷遠端的機器是否聯通，網路是否正常工作

- `-c`來指定發送的`echo request`個數
- `-s`來指定每次發送的ping包大小

# 響應時間

`ping`命令的`echo request/reply`一次往返所花費的時間就是響應時間。有很多因素會影響到響應時間

e.g. 網段的負荷，網路主機的負荷，廣播風暴及工作不正常的網路設備等等

在網路工作正常時，記錄下正常的響應時間。當用戶吧網路的返應時間慢時，就可以將現在的響應時間與正常的響應時間對比。

如果兩者差值的波動很大，就能說明網路設備寸在故障。

# 網路利用率

網路利用率是指 網路被使用的時間佔總時間(被使用的時間+空閒的時間)

e.g. Ethernet雖然是共享的，但同時卻只能有一個報文在傳輸。因此在任一時刻，Ethernet可能為100%的利用率，或者是0%的利用率

計算一個網段的網路利用率相對比較容易，但是確定一個網路的利用率就比較複雜。

通常，網路測試工具一般使用`網路吞吐量`和`網路帶寬容量`來確定網路中兩個節點之間的性能

# 網路吞吐量

網路吞吐量是指在某個時刻，在網路中的兩個節點之間。提供給網路應用的剩餘帶寬

網路吞吐量可以幫助尋找網路路徑中的瓶頸。

e.g. 即使 client 和 server 都分別連接到各自的100M Ethernet上，但是如果這兩個 100M 的Ethernet被 10M 的Ethernet連接起來

那麼 `10M 的Ethernet就是網路的瓶頸`

網路吞吐量非常依賴於當前的`網路負載情況`。因此，為了得到正確的網路吞吐量，最好在不同時間(一天中的不同時刻，或者一週中不同的天)

分別進行測試，只有這樣才能得到對網路吞吐量的全面認識

有些網路應用程序在開發過程的測試中能夠正常運行，但是到時記得網路環境中卻無法正常工作(由於沒有足夠的網路吞吐量)

這是因為測試只是在空閒的網路環境中，沒有考慮到實際的網路環境中還存在著其他各種網路流量。

所以，網路吞吐量定義為`剩餘的帶寬`是有實際意義的


# 網路帶寬量

與網路吞吐量不同，網路帶寬量指的是在網路的兩個節點之間的最大可用帶寬。這是由組成網路的設備的能力所決定的。

測試網路帶寬容量有兩個困難之處：

在網路存在其他網路流量的時候，如何得知網路的最大可用帶寬;

在測試過程中，如何對現有的網路流量不造成影響。

網路測試工具一般採用`packet pairs`和 `packet trains`技術來克服這樣的困難


# 收集網路性能數據的方法

以下有三種從網路獲取數據的方式

1. 通過snmp協議直接到網路設備中獲取 e.g. net-snmap
2. 偵聽相關的網路性能數據 e.g. tcpdump
3. 自行產生相應的測試數據 e.g. iperf/ netperf/ mz ...


# refer:
- mz: 打封包常用工具
http://man7.org/linux/man-pages/man8/mausezahn.8.html
- 寫得不錯的博客 
https://blog.csdn.net/qq_15437629/article/details/78827152